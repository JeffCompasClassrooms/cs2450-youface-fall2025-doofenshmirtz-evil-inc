{% extends "base.html" %}

{% block content %}
<div class="container text-center mt-4">

  <!-- Friend/Follower counts -->
<div class="row justify-content-center my-5">
  <div class="col-md-8 text-center">
    <div class="card shadow-lg border-0 rounded-4 p-4 bg-light position-relative">
      <div class="d-flex justify-content-center mt-2 gap-4">
        <!-- Friends Box -->
        <div class="card shadow-sm rounded-3 p-3 flex-fill">
          <h4 class="fw-bold mb-0">Friends: {{ num_friends }}</h4>
        </div>
        <!-- Followers Box -->
        <div class="card shadow-sm rounded-3 p-3 flex-fill">
          <h4 class="fw-bold mb-0">Followers: {{ num_followers }}</h4>
        </div>
        <!-- Following Box -->
        <div class="card shadow-sm rounded-3 p-3 flex-fill">
          <h4 class="fw-bold mb-0">Following: {{ num_following }}</h4>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Profile Header -->
  <div class="card mx-auto shadow p-4" style="max-width: 500px;">
    <img src="{{ url_for('static', filename=pfp) }}"
         class="rounded-circle mx-auto mb-3"
         name="pfp"
         id="pfp"
         alt="Profile Picture"
         width="150"
         height="150">

    <h2 class="fw-bold" name="username_display" id="username_display">{{ user }}</h2>
    <h5 class="text-muted" name="handle_display" id="handle_display">{{ handle }}</h5>
    <h5 class="text-muted" name="engineering_preference_display" id="engineering_preference_display">Wannabe {{ engineering_preference }} Engineer</h5>

    <p class="mt-3" name="birthday" id="birthday"><strong>Birthday:</strong> {{ birthday or 'Not set' }}</p>
    <p name="age" id="age"><strong>Age:</strong> {{ age or 'Unknown' }}</p>

    <!-- Edit Bio Form -->
    <form method="post" class="mt-4">
      <div class="form-group">
        <label for="bio"><strong>Bio:</strong></label>
        <textarea id="bio" name="bio" class="form-control" rows="3" maxlength="500"
                  placeholder="Tell the world about yourself...">{{ bio }}</textarea>
      </div>
      <button type="submit" name ="save_button" id="save_button" class="btn btn-primary mt-3">Save Changes</button>
    </form>

    <!-- Delete Account -->
    <div class="mt-4 border-top pt-3">
      <h5 class="text-danger">Delete Account</h5>
      <p class="text-muted small">
        Type <strong>delete</strong> in the box below and press "Confirm Delete" to permanently remove your account.
      </p>
      <form method="post">
        <div class="form-group">
          <input type="text" id="delete_confirm" name="delete_confirm" class="form-control mb-2" placeholder="Type 'delete' to confirm">
        </div>
        <button type="submit" class="btn btn-danger" name="delete" id="delete">Confirm Delete</button>
      </form>
    </div>

    </form>
  </div>

</div>
{% endblock %}

<script>

</script>